# Infrastructure to Implement
- id: infrastructure_to_implement
- status: active
- type: plan
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "../root/README.md"}
- last_checked: 2026-01-25
<!-- content -->
This is the Evolving High Level Plan for the Infrastructure. To not be confused with the task plan generated by the Infrastructure Agent every time the human user asks for something.

## Phase 1: The Foundation (GCP Project Setup)
- id: infrastructure_to_implement.phase_1_the_foundation_gcp_project_setup
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
Context: Company's developers need the cloud infrastructure both to test and to deploy production ready code.

### Step 1.1: Project & APIs
- id: infrastructure_to_implement.phase_1_the_foundation_gcp_project_setup.step_11_project_apis
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
- Create a new Google Cloud Project `eikasia-ops`. This project holds infrastructure internal to Eikasia, as well as everything that has not a dedicated GCP Project.
- Enable required APIs: artifactregistry.googleapis.com, run.googleapis.com, aiplatform.googleapis.com, firestore.googleapis.com, bigquery.googleapis.com.

## Phase 2: Basic Game Deployment
- id: infrastructure_to_implement.phase_2_basic_game_deployment
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
Context: Deploying the `basic_game` (Snake Game) application. Requirements extracted from `basic_game/GCLOUD_PROJECT_SETUP.md`.

### Step 2.1: Data & Storage
- id: infrastructure_to_implement.phase_2_basic_game_deployment.step_21_data_storage
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
- **BigQuery**: Create dataset `basic_game_simulation_logs` in `eikasia-ops`.
- **Cloud Storage**: Create bucket `gs://eikasia-ops-basic-game-sessions` (Standard class, `us-central1`) for unstructured session data.
- **Artifact Registry**: Create Docker repository `basic-game-repo` in `us-central1` for backend images.

### Step 2.2: Backend Service
- id: infrastructure_to_implement.phase_2_basic_game_deployment.step_22_backend_service
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
- **Service Account**: Create `basic-game-sa`.
    - Roles: `roles/bigquery.dataEditor`, `roles/storage.objectAdmin`, `roles/aiplatform.user`.
- **Cloud Run**: Deploy backend service.
    - Region: `us-central1`.
    - Ingress: Allow unauthenticated invocations (public API) or strictly from Frontend (needs config).
    - Environment Variables: `PROJECT_ID`, `GCS_BUCKET_NAME`, `BQ_DATASET`.

### Step 2.3: Frontend hosting
- id: infrastructure_to_implement.phase_2_basic_game_deployment.step_23_frontend_hosting
- status: active
- type: context
- context_dependencies: {"conventions": "MD_CONVENTIONS.md", "agents": "AGENTS.md", "project_root": "README.md"}
- last_checked: 2026-01-25
<!-- content -->
- **Firebase**: Connect `eikasia-ops` project to Firebase.
- **Hosting**: specific site channel or default site.
- **Config**: Update frontend content to point to Cloud Run Service URL.
